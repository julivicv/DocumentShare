{% include "components/head.html" %}

<h1 class="text-2xl text-center m-10 font-bold">{{ title }}</h1>
<div class="text-center">
  <a href="./home_page.php" class="text-blue-500 hover:text-blue-700 font-bold"
    >Home</a
  >
  / List Files
</div>

<div class="flex items-center justify-center m-10">
  <form action="./view_file_page.php" method="post">
    <input
      type="text"
      name="search"
      class="flex-grow px-4 py-2 mr-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-300"
      placeholder="Search your file"
    />
    <button
      type="submit"
      class="bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 rounded-md"
    >
      Go
    </button>
  </form>
</div>

<ul class="text-center flex flex-col items-center justify-center">
  {% for file in files %}
  <li class="flex gap-4 text-center items-center my-1 justify-center">
    <a href="{{ file['path'] }}" class="text-blue-500 hover:underline">
      {{ file['name'] }}
    </a>
    <!-- verify if user have permition for delete -->
    {% if file['can_delete'] == 1 %}
    <a
      class="bg-red-400 text-white px-2 py-1 rounded"
      href="./delete_file.php?id={{ file['id'] }}"
      >Delete</a
    >
    {% endif %} {% if file['can_edit'] == 1 %}
    <a
      class="bg-green-400 text-white px-2 py-1 rounded"
      href="./delete_file.php?id={{ file['id'] }}"
      >Edit</a
    >
    {% endif %}
  </li>
  {% endfor %}
</ul>

{% include "components/foot.html" %}
